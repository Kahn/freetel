env:
  global:
    secure: N0sH0msTB4otjXjI0q5XISDqRnX7b3GUu7qHEjfrVzD8MEc229wEtydZXMse8LayXrjMufM/9Up939X5a8pIYEsVCCQ9eiV0lsWS6QSNhhhFvGRPRP/d3lhD434Vp+ZPDnn04VD+FU9lUyfA0VNyOTZlq8NCINvlXIJIChpe/xiwiJ32NY8ZZcev9Oo6bevOIfHSAzkq+1ugPxz6Yk6rorziRyXTHk/0fcxiMUMQNLRLqDjQg69BfGozOnQYxc32qJqC1/Ln5WuTZPaAnqPU/4mqwOMQqGlUH0C2SXfarzCcQDts/Knu2fg3NJduZCb+k/80yU253QOssleIWGc6qo3xaHJd9W088w+b9nno+gL7vweqg0FdHpvZ2ASj80nRWikg111L38VuGizW8CE9t/uF+UdDPcdOICKj0ANE2fT5apwpeghKodH/zM99roWzI6T1K8FFNmH/5ti4lt2wfXpo0jpXvk9nFSGfDolWWfjqYBksPNxFCycI4lYQ+/6fluFrsByxKl9Z+mWaB7VJSsm5i0q4R3nKfl5MzsuQ1F15kOUiSaMWxy/IAc8eBlRAblsJE47EODXt+c8+A+AIa9bGLQjM15cOWXD0fPQtFnfKzcbs6Mx1dCe/nSiroFZKmXKwhn8NWh8QOGmfjhlTZGLk/Lp1L8JFtT7pCCmKYs4=

language: c
matrix:
  include:
  - os: linux
    sudo: required
    env:
    - PLATFORM=linux
    - CODEC2_CMAKE_ARGS=-
    - FREEDV_CMAKE_ARGS=-DCMAKE_BUILD_TYPE=Debug -DBOOTSTRAP_WXWIDGETS=TRUE -DCODEC2_INCLUDE_DIRS=/home/travis/build/Kahn/freetel/codec2-dev/build_linux/src/libcodec2.so
      -DUSE_STATIC_CODEC2=FALSE -DUSE_STATIC_PORTAUDIO=TRUE
    - CODEC2_PACKAGE=codec2-dev
    - FREEDV_PACKAGE=freedv-dev
    addons:
      apt:
        packages:
        - tree
        - libspeexdsp-dev
        - libsamplerate-dev
        - libwxgtk3.0-dev
        - portaudio19-dev
        - libhamlib-dev
        - libsamplerate-dev
        - libasound2-dev
        - libao-dev
        - libgsm1-dev
        - libsndfile-dev
    script:
    - pwd && ls ~
    - cd $FREEDV_PACKAGE && mkdir build_$PLATFORM && cd build_$PLATFORM && cmake $FREEDV_CMAKE_ARGS
      ../ && make && cmake $FREEDV_CMAKE_ARGS ../ && make && pwd && ls -lah src
deploy:
  provider: bintray
  file: /home/travis/build/Kahn/freetel/.bintray.json
  user: kahn
