language: c

matrix:
    include:
        - os: linux
          sudo: required
          env:
            - PACKAGE=codec2-dev
            - PLATFORM=linux
            - CMAKE_ARGS=-
          addons:
            apt:
                packages:
                    - libspeexdsp-dev
        - os: linux
          sudo: required
          addons:
            apt:
                packages:
                    - libwxgtk3.0-dev
                    - portaudio19-dev
                    - libhamlib-dev
                    - libsamplerate-dev
                    - libasound2-dev
                    - libao-dev
                    - libgsm1-dev
                    - libsndfile-dev
          env:
            - PACKAGE=freedv-dev
            - PLATFORM=linux
            - CMAKE_ARGS=-DBOOTSTRAP_WXWIDGETS=TRUE

script: cd $PACKAGE && mkdir build_$PLATFORM && cd build_$PLATFORM && cmake $CMAKE_ARGS ../ && make
